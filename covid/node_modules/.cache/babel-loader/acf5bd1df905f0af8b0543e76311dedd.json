{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\Fall2020\\\\Studio\\\\GIS\\\\React\\\\YARA\\\\covid\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Icon } from 'leaflet';\nimport useSwr from 'swr';\nimport './app.css';\n\nconst fetcher = (...args) => fetch(...args).then(response => response.json());\n\nconst icon = new Icon({\n  iconUrl: '/handcuffs.svg',\n  iconSize: [25, 25]\n});\nexport default function App() {\n  _s();\n\n  const url = 'https://data.police.uk/api/crimes-street/all-crime?lat=52.629729&lng=-1.131592&date=2019-10';\n  const {\n    data,\n    error\n  } = useSwr(url, fetcher);\n  const crimes = data && !error ? data.slice(0, 100) : [];\n  const [activeCrime, setActiveCrime] = React.useState(null);\n  return /*#__PURE__*/_jsxDEV(Map, {\n    center: [52.6376, -1.135171],\n    zoom: 12,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }, this), crimes.map(crime => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [crime.location.latitude, crime.location.longitude],\n      icon: icon,\n      onClick: () => {\n        setActiveCrime(crime);\n      }\n    }, crime.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this)), activeCrime && /*#__PURE__*/_jsxDEV(Popup, {\n      position: [activeCrime.location.latitude, activeCrime.location.longitude],\n      onClose: () => {\n        setActiveCrime(null);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: activeCrime.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"IST/DH2VG3qi+tfWOEHw6JMjKL0=\", false, function () {\n  return [useSwr];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/Fall2020/Studio/GIS/React/YARA/covid/src/App.js"],"names":["React","Map","Marker","Popup","TileLayer","Icon","useSwr","fetcher","args","fetch","then","response","json","icon","iconUrl","iconSize","App","url","data","error","crimes","slice","activeCrime","setActiveCrime","useState","map","crime","location","latitude","longitude","id","category"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,KAAtB,EAA6BC,SAA7B,QAA8C,eAA9C;AACA,SAASC,IAAT,QAAqB,SAArB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAO,WAAP;;AAEA,MAAMC,OAAO,GAAG,CAAC,GAAGC,IAAJ,KAAaC,KAAK,CAAC,GAAGD,IAAJ,CAAL,CAAeE,IAAf,CAAqBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAAlC,CAA7B;;AAEA,MAAMC,IAAI,GAAG,IAAIR,IAAJ,CAAS;AACrBS,EAAAA,OAAO,EAAE,gBADY;AAErBC,EAAAA,QAAQ,EAAE,CAAE,EAAF,EAAM,EAAN;AAFW,CAAT,CAAb;AAKA,eAAe,SAASC,GAAT,GAAc;AAAA;;AAC5B,QAAMC,GAAG,GACR,6FADD;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBb,MAAM,CAACW,GAAD,EAAMV,OAAN,CAA9B;AACA,QAAMa,MAAM,GAEVF,IAAI,IAAI,CAACC,KAAT,GAAiBD,IAAI,CAACG,KAAL,CAAW,CAAX,EAAc,GAAd,CAAjB,GACA,EAHF;AAIA,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCvB,KAAK,CAACwB,QAAN,CAAe,IAAf,CAAxC;AAEA,sBACC,QAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAE,OAAF,EAAW,CAAC,QAAZ,CAAb;AAAqC,IAAA,IAAI,EAAE,EAA3C;AAAA,4BACC,QAAC,SAAD;AACC,MAAA,GAAG,EAAC,oDADL;AAEC,MAAA,WAAW,EAAC;AAFb;AAAA;AAAA;AAAA;AAAA,YADD,EAMEJ,MAAM,CAACK,GAAP,CAAYC,KAAD,iBACX,QAAC,MAAD;AAEC,MAAA,QAAQ,EAAE,CAAEA,KAAK,CAACC,QAAN,CAAeC,QAAjB,EAA2BF,KAAK,CAACC,QAAN,CAAeE,SAA1C,CAFX;AAGC,MAAA,IAAI,EAAEhB,IAHP;AAIC,MAAA,OAAO,EAAE,MAAM;AACdU,QAAAA,cAAc,CAACG,KAAD,CAAd;AACA;AANF,OACMA,KAAK,CAACI,EADZ;AAAA;AAAA;AAAA;AAAA,YADA,CANF,EAiBER,WAAW,iBACX,QAAC,KAAD;AACC,MAAA,QAAQ,EAAE,CAAEA,WAAW,CAACK,QAAZ,CAAqBC,QAAvB,EAAiCN,WAAW,CAACK,QAAZ,CAAqBE,SAAtD,CADX;AAEC,MAAA,OAAO,EAAE,MAAM;AACdN,QAAAA,cAAc,CAAC,IAAD,CAAd;AACA,OAJF;AAAA,6BAKC;AAAA,+BACC;AAAA,oBAAKD,WAAW,CAACS;AAAjB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AALD;AAAA;AAAA;AAAA;AAAA,YAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA+BA;;GAzCuBf,G;UAGCV,M;;;KAHDU,G","sourcesContent":["import React from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Icon } from 'leaflet';\nimport useSwr from 'swr';\nimport './app.css';\n\nconst fetcher = (...args) => fetch(...args).then((response) => response.json());\n\nconst icon = new Icon({\n\ticonUrl: '/handcuffs.svg',\n\ticonSize: [ 25, 25 ]\n});\n\nexport default function App(){\n\tconst url =\n\t\t'https://data.police.uk/api/crimes-street/all-crime?lat=52.629729&lng=-1.131592&date=2019-10';\n\tconst { data, error } = useSwr(url, fetcher);\n\tconst crimes =\n\n\t\t\tdata && !error ? data.slice(0, 100) :\n\t\t\t[];\n\tconst [ activeCrime, setActiveCrime ] = React.useState(null);\n\n\treturn (\n\t\t<Map center={[ 52.6376, -1.135171 ]} zoom={12}>\n\t\t\t<TileLayer\n\t\t\t\turl='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t/>\n\n\t\t\t{crimes.map((crime) => (\n\t\t\t\t<Marker\n\t\t\t\t\tkey={crime.id}\n\t\t\t\t\tposition={[ crime.location.latitude, crime.location.longitude ]}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetActiveCrime(crime);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\n\t\t\t{activeCrime && (\n\t\t\t\t<Popup\n\t\t\t\t\tposition={[ activeCrime.location.latitude, activeCrime.location.longitude ]}\n\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\tsetActiveCrime(null);\n\t\t\t\t\t}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>{activeCrime.category}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t</Popup>\n\t\t\t)}\n\t\t</Map>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}